# Лабораторная работа №1. Калькулятор М2

Попков Максим Александрович

Группа: М8О-105БВ-25

## Введение
Арифметический калькулятор, реализующий вычисления с помощью алгоритма "шунтирующего двора".

### Операции (по приоритетам)
1. Унарные `+` и `-`, право-ассоциативные
2. Возведение в степень `**`, право-ассоциативное
3. `*`, `/`, `//`, `%`, лево-ассоциативные
   
    (`//`, `%` поддерживаются только для целых чисел)
4. Бинарные `+`, `-`, лево-ассоциативные


## Структура проекта

 <pre>
    .
    ├── lab1                                   # Кодовая база лабораторной работы
    │   ├── src/                               # Исходный код
    │   │   ├── __init__.py
    │   │   ├── calculator.py                  # Вычисляет значение выражения
    │   │   ├── constants.py                   # Основные константы
    │   │   ├── errors.py                      # Ошибки
    │   │   ├── evaluator.py                   # Вычисляет значение по обратной польской нотации
    │   │   ├── main.py                        # Точка входа
    │   │   ├── parser.py                      # Меняет порядок токенов, определяет унарные знаки
    │   │   ├── tokenizer.py                   # Разбивает строку на токены
    │   ├── tests/                             # Unit тесты
    │   │   ├── __init__.py
    │   │   ├── test_annotate_unary.py         # Unit тесты определения унарных операций
    │   │   ├── test_calc.py                   # Тесты итогового калькулятора
    │   │   ├── test_correctness_check.py      # Тесты функции, определяющей ошибки парсинга
    │   │   ├── test_eval_rpn.py               # Тесты функции, вычисляющей значение выражения в 
    │   │   │                                  # обратной польской нотации
    │   │   ├── test_to_rpn.py                 # Тесты функции, переставляющей токены
    │   │   ├── test_tokenizer.py              # Тесты токенизации
    │   ├── requirements.txt                   # зависимости проекта
    │   ├── report.pdf                         # Отчет
    │   ├── .gitignore                         # git ignore файл
    │   ├──.pre-commit-config.yaml             # Средства автоматизации проверки кодстайла
    │   ├── README.md                          # Описание проекта, с описанием файлов и с титульником о том,
                                               # что и какая задача
</pre>

## Установка и запуск
<pre>
git clone https://github.com/Maximoff35/Popkov-python-labs-mai-1sem
cd <папка_проекта>/lab1
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
</pre>

### Запуск программы
<pre>
python -m src
</pre>

### Пример
<pre>
Введите выражение: 3 * (1 + 2)
Результат: 9
</pre>

### Использование как модуля
<pre>
from src import calculator

print(calculator.calc("2**3**2"))   # 512
print(calculator.calc("-(3+5)"))    # -8
</pre>

## Тестирование

Для запуска тестов:

<pre>
pytest -v
</pre>

Тесты включают:

- Положительные кейсы для разных типов выражений

- Ошибки трёх типов: `TokenizeError`, `ParseError`, `EvalError`