import re

TOKEN_RE = re.compile(r"(?P<NUM>\d+\.\d+|\d+)|(?P<OP>\*\*|//|[+\-*/%])|(?P<LP>\()|(?P<RP>\))|(?P<WS>\s+)|(?P<MIS>.)")

# чем больше, тем сильнее
PRIORITY = {
    '**': 4,
    'NEG': 3, # унарный минус
    '*': 2, '//': 2, '%': 2, '/': 2,
    '+': 1, '-': 1
}

# левая или правая ассоциативность
ASSOCIATIVITY = {
    '**': 'r',
    'NEG': 'r',
    '*': 'l', '//': 'l', '%': 'l', '/': 'l',
    '+': 'l', '-': 'l'
}

UNARY_LEFT = (None, 'OP', 'LP')